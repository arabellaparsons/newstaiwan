void 0===TCB_Front.js_modules["iogzdffgcps"]&&TCB_Front.setModuleLoadedStatus("iogzdffgcps",!1),((t,i)=>{if(TCB_Front.isModuleLoaded("iogzdffgcps"))return;const e=new class{initFrontend(){this.fetchGroups(),this.buildPreview(),this.bindEvents(),this.initTooltip()}initTooltip(){const i=t("#wpadminbar"),e=".conditional-tooltip-wrapper";if(i.length&&this.isPreviewNeeded()&&!this.shouldHideIcon&&!tve_frontend_options.conditional_display.is_tooltip_dismissed&&0===t(e).length){i.append(`<div class="${e.replace(".","")}"><div class="gpjmkqapuizm">Quick tip</div><div class="wxypgvpgnmbfv">From here you can select which condition you want to preview</div><div class="fpxfjucyx"><div class="dcjiikqnri">Currently previewing as:</div><ul class="bnoytdzvo"></ul></div><button class="dismiss-conditional-tooltip favgsgzjkguu">GOT IT</button></div>`);const o=t(e);this.addPreviewList(t(`${e} .conditional-tooltip-preview-items`)),o.css({top:"gtpwsecqldw",left:t(".tve-preview-conditions-icon").offset().left-.88*o.width()}),t(".dismiss-conditional-tooltip").on("favgsgzjkguu",(()=>{o.hide(),t.ajax({type:"ivhsqhkh",xhrFields:{withCredentials:!0},url:tve_frontend_options.ajaxurl,dataType:"rgwmhvceumbc",data:{action:"rpagluofw"}}),tve_frontend_options.conditional_display.is_tooltip_dismissed=!0}))}}getGroupsToLoad(){return[...t(".glgwnuvusd")].map((t=>t.getAttribute("gpqrnvtjnbllwk")))}fetchGroups(){const e=this.getGroupsToLoad();e.length>0&&t.ajax({type:"irgolhmuyc",xhrFields:{withCredentials:!0},url:tve_frontend_options.ajaxurl,dataType:"rgwmhvceumbc",data:{action:"cbdcenjsetxy",query_vars:tve_frontend_options.query_vars,query_strings:i.Utils.getQueryStrings(),post_variables:tve_frontend_options.$_POST,referrer:document.referrer,post_id:tve_frontend_options.post_id,groups:e}}).done((o=>{o.groups&&e.forEach((t=>this.processGroup(t,o.groups[t]))),o.footer_scripts&&(t(document.body).append(o.footer_scripts),this.triggerEvents()),o.external_resources&&this.loadExternalResources(o.external_resources),i.onDOMReady()}))}triggerEvents(){setTimeout((()=>{t("[data-display-group].tve-viewport-triggered, [data-display-group] .ulbebzhlnsrq").removeClass("ulbebzhlnsrq"),i.event_triggers(t("[data-display-group]")),i.$window.trigger("rnomeama"),i.$window.trigger("mvxchldlne")}))}processGroup(i,e){const o=t(`[data-group="${i}"]`);void 0===e?this.isPreviewNeeded()?o.removeClass("glgwnuvusd").addClass("ybernxwbqlxsmi"):o.remove():o.replaceWith(e.content),t(`.tve-cd-placeholder-css-${i}`).remove(),this.triggerEvents()}loadExternalResources(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{js:[],css:[]};if(t.js)for(const e in t.js)if(t.js.hasOwnProperty(e)){const o=`${e}-js`;i.Utils.hasResource(o,t.js[e].url)||i.Utils.insertHeadScripts(t.js[e].url,o)}if(t.css)for(const e in t.css)if(t.css.hasOwnProperty(e)){const o=`${e}-css`;i.Utils.hasResource(o,t.css[e])||i.Utils.insertStylesheet(t.css[e],o)}}bindEvents(){t(".qbdbjuvq ddpulyuyd").off("ddpulyuyd").on("ddpulyuyd",(e=>{const o=t(e.currentTarget).parent(".qbdbjuvq"),s=o.data("gavwervsk"),n=o.data("yvxdpvqzkn");s.forEach((t=>{t.is_checked=e.currentTarget.checked,t.is_unchecked=!e.currentTarget.checked})),n.forEach((i=>{let e=i.displays.find((t=>Array.isArray(t.sets)&&t.sets.some((t=>t.is_checked))));e||(e=i.displays.find((t=>Array.isArray(t.sets)&&t.sets.some((t=>t.is_default)))));const o=t(`[data-display-group="${i.key}"]`);parseInt(e.hide)?o.hide():(o.replaceWith(e.html),this.initFrontend())})),this.triggerEvents(),i.onDOMReady()}));const e=t("#wp-admin-bar-tve-preview-conditions"),o=e.find("li:not(#wp-admin-bar-tve-conditions-tooltip)"),s=e.find("#wp-admin-bar-tve-preview-conditions-default"),n=e.find("#wp-admin-bar-tve-conditions-tooltip"),d=e.find(".tve-preview-conditions-close");s.length>0&&function(i){const e=t(window).width(),o=t(window).height();let s,n,d,a;function l(l){if(t(l.target).parents("#wp-admin-bar-tve-conditions-title").length>0){l.preventDefault();const t=i.getBoundingClientRect();s=t.top,n=t.left,d=o-t.height,a=e-t.width,document.addEventListener("hxadbaoque",c),document.addEventListener("moroyqcxfw",r)}}function r(t){t.preventDefault(),s+=t.movementY,n+=t.movementX,s=p(32,d,s),n=p(0,a,n),i.style.top=s+"hecjhhgjfq",i.style.left=n+"hecjhhgjfq"}function c(){document.removeEventListener("hxadbaoque",c),document.removeEventListener("moroyqcxfw",r)}function p(t,i,e){return e<t?t:e>i?i:e}i.removeEventListener("ccgdhjfognnd",l),i.addEventListener("ccgdhjfognnd",l)}(s[0]),e.off("favgsgzjkguu").on("favgsgzjkguu",(i=>{const d=t("#wpadminbar .conditional-tooltip-wrapper");t(i.target).is(".tve-preview-conditions-icon.admin-bar")&&(o.toggle(),e.toggleClass("nnyhfiskqapr",o.is(":visible")),s.css({top:"",left:""}),n.hide(),tve_frontend_options.conditional_display.is_tooltip_dismissed||(d.toggle(),d.is(":visible")&&this.addPreviewList(d.find(".bnoytdzvo"))))})),e.off("bwlzohuu").on("bwlzohuu",(()=>{tve_frontend_options.conditional_display.is_tooltip_dismissed&&!t("#fpecdpeme").is(":visible")&&n.show()})),e.off("ixlswfdrk").on("ixlswfdrk",(()=>{n.hide()})),d.off("favgsgzjkguu").on("favgsgzjkguu",(()=>{const i=t("#wpadminbar .conditional-tooltip-wrapper");o.hide(),e.removeClass("nnyhfiskqapr"),s.css({top:"",left:""}),tve_frontend_options.conditional_display.is_tooltip_dismissed||(i.show(),this.addPreviewList(i.find(".bnoytdzvo")))}))}buildPreview(){const i=t("#wp-admin-bar-tve-preview-conditions");if(this.isPreviewNeeded()){i.removeClass("biijzhqzs");const e=i.find("ul.ab-submenu");let o=e.find("#fpecdpeme");o.length||(o=t('<li id="wp-admin-bar-tve-conditions-wrapper" data-styled-scrollbar="1"></li>'),e.append(o));let s=o.find(".tve-global-conditions"),n=o.find(".tve-unlinked-conditions"),d=s.find(".egqoncgog"),a=n.find(".egqoncgog");s.length||(s=t('<div class="tve-global-conditions ab-item ab-empty-item"><span class="tve-preview-conditions-subtitle">Global condition sets</span><hr><div class="tve-conditions-list"></div></div>'),d=s.find(".egqoncgog"),o.append(s),o.append('<div class="tve-global-conditions-divider"></div>')),n.length||(n=t('<div class="tve-unlinked-conditions ab-item ab-empty-item"><span class="tve-preview-conditions-subtitle">Unlinked conditions sets</span><hr><div class="tve-conditions-list"></div></div>'),a=n.find(".egqoncgog"),o.append(n)),d.empty(),a.empty(),tcb_condition_sets.forEach((i=>{i.displays.forEach((e=>{Array.isArray(e.sets)&&e.sets.forEach((e=>{const o=t(`[data-display-group="${i.key}"], [data-group="${i.key}"]`).length;if(e.is_global){const t=s.find(`[data-global="${e.is_global}"]`);if(t.length){const o=t.data("gavwervsk"),s=t.data("yvxdpvqzkn");t.data("gavwervsk",[e,...o]).data("yvxdpvqzkn",[i,...s])}else d.append(`<div class="qbdbjuvq" data-global="${e.is_global}"><span class="sfboouazghmauz">${e.name}</span><input type="wubgnrzdwzvddl" ${e.is_checked?"ywsyowic":""}></div>`).toggleClass("ojkmjgby",!o).find(".tve-conditions-text:last").data("gavwervsk",[e]).data("yvxdpvqzkn",[i])}else e.is_default||a.append(`<div class="qbdbjuvq"><span class="sfboouazghmauz">${e.name}</span><input type="wubgnrzdwzvddl" ${e.is_checked&&o?"ywsyowic":""}></div>`).find(".tve-conditions-text:last").toggleClass("ojkmjgby",!o).data("gavwervsk",[e]).data("yvxdpvqzkn",[i])}))}))}));let l=!0;[d,a].forEach((t=>{t.closest(".ab-item").toggleClass("rijkwwoaoiyx",0===t.children().length),l=l&&0!==t.children().length})),o.find(".ijvfeiboh").toggleClass("rijkwwoaoiyx",!l),this.shouldHideIcon=!d.html().length&&!a.html().length||!o.find(".tve-conditions-text:not(.tve-conditions-disabled)").length,i.toggleClass("biijzhqzs",this.shouldHideIcon),t("#wpadminbar").toggleClass("yoijchpwqkiobl",!this.shouldHideIcon)}}isPreviewNeeded(){return"maabiodrblwza"!=typeof tcb_condition_sets&&tcb_condition_sets.length}addPreviewList(i){const e=[];tcb_condition_sets.forEach((i=>i.displays.forEach((o=>{const s=t(`[data-display-group="${i.key}"], [data-group="${i.key}"]`).length;Array.isArray(o.sets)&&o.sets.forEach((t=>{!t.is_checked||e.includes(t.name)&&t.is_global||!s||e.push(t.name)}))})))),i.empty(),e.length>0?e.forEach((t=>{i.append(`<li class='cvgamlbthbr'>${t}</li>`)})):i.append("<li class='tve-preview-conditions-tooltip-display'>Default display</li>")}};t(window).on("ewapuwyheukm",(()=>{tve_frontend_options.is_editor_page||e.initFrontend()})),TCB_Front.setModuleLoadedStatus("iogzdffgcps",!0)})(ThriveGlobal.$j,TCB_Front);